[gd_scene load_steps=20 format=4 uid="uid://c4ru7yfkibo77"]

[ext_resource type="Texture2D" uid="uid://b242eyhweiko7" path="res://Levels/FactoryWall_Tileset.png" id="1_uvd1l"]
[ext_resource type="Texture2D" uid="uid://doah6cryalvyl" path="res://Sprites/Environment/Pipe_Tileset.png" id="2_f87w0"]
[ext_resource type="PackedScene" uid="uid://76merjs60id2" path="res://Scenes/Environment/MediumGear.tscn" id="2_p4erq"]
[ext_resource type="PackedScene" uid="uid://c17p6nhy8jnwb" path="res://Scenes/Environment/SmallGear.tscn" id="3_p4erq"]
[ext_resource type="Script" uid="uid://cgdpkkfvspe6f" path="res://Scripts/Camera/CameraController.cs" id="5_w4v7x"]
[ext_resource type="PackedScene" uid="uid://c6qwdj501fg6f" path="res://old/player.tscn" id="6_mkyii"]
[ext_resource type="PackedScene" uid="uid://bk5vxoiry1el0" path="res://Scenes/Environment/SmallOpenGear.tscn" id="7_mkyii"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_mkyii"]
texture = ExtResource("2_f87w0")
texture_region_size = Vector2i(128, 128)
1:4/0 = 0
1:3/0 = 0
1:2/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
1:5/0 = 0

[sub_resource type="TileSet" id="TileSet_w4v7x"]
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_mkyii")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_oe5jq"]
texture = ExtResource("1_uvd1l")
texture_region_size = Vector2i(128, 128)
0:0/size_in_atlas = Vector2i(2, 2)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(-64, -64)
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 192.089, -64.0297, 192.089, 191.909, -63.8498, 191.909)
2:0/size_in_atlas = Vector2i(2, 2)
2:0/0 = 0
2:0/0/texture_origin = Vector2i(-64, -64)
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 192.089, -64.0297, 192.089, 191.909, -63.8498, 191.909)
4:0/size_in_atlas = Vector2i(1, 2)
4:0/0 = 0
4:0/0/texture_origin = Vector2i(0, -64)
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 63.8498, 192.089, -63.8498, 191.909)
5:1/0 = 0
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
5:0/size_in_atlas = Vector2i(2, 1)
5:0/0 = 0
5:0/0/texture_origin = Vector2i(-64, 0)
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 191.816, -64.0448, 191.816, 64.3634, -64, 64)

[sub_resource type="TileSet" id="TileSet_afen0"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 1
sources/2 = SubResource("TileSetAtlasSource_oe5jq")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_q0ila"]
texture = ExtResource("1_uvd1l")
texture_region_size = Vector2i(128, 128)
0:2/0 = 0
1:3/0 = 0
2:2/0 = 0
3:2/0 = 0
2:3/0 = 0
3:3/0 = 0
4:2/0 = 0
4:3/0 = 0
5:3/0 = 0
5:2/0 = 0

[sub_resource type="TileSet" id="TileSet_mkyii"]
tile_size = Vector2i(128, 128)
sources/2 = SubResource("TileSetAtlasSource_q0ila")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oe5jq"]
size = Vector2(1160.5, 343)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_w4v7x"]
polygon = PackedVector2Array(0, 0, 896, 0, 896, 127, 256, 128, 256, 1025, 1664, 1024, 1664, 128, 1024, 130, 1024, 0, 1920, 0, 1920, 1152, 0, 1152)

[sub_resource type="Gradient" id="Gradient_7t67w"]
colors = PackedColorArray(0.856618, 0.801582, 0.130281, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mkyii"]
gradient = SubResource("Gradient_7t67w")
fill = 1
fill_from = Vector2(0.515695, 0.452915)
fill_to = Vector2(0.5, 0)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_bwca4"]
texture = ExtResource("2_f87w0")
texture_region_size = Vector2i(128, 128)
0:4/0 = 0
0:3/0 = 0
0:2/0 = 0
0:1/0 = 0
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0

[sub_resource type="TileSet" id="TileSet_oe5jq"]
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_bwca4")

[node name="Test" type="Node2D"]

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -1176.0
offset_top = -981.0
offset_right = 3458.0
offset_bottom = 1885.0
color = Color(0.126428, 0.121226, 0.117755, 1)

[node name="Background" type="Parallax2D" parent="."]
scroll_scale = Vector2(0.8, 0.8)

[node name="brownPipe" type="TileMapLayer" parent="Background"]
scale = Vector2(0.85, 0.85)
tile_map_data = PackedByteArray("AAAAAAQAAAACAAEAAAABAAQAAAACAAEAAAACAAQAAAACAAEAAAADAAQAAAACAAEAAAAEAAQAAAACAAEAAAAFAAQAAAAEAAEAAAAGAAQAAAADAAEAAAAHAAQAAAACAAEAAAAIAAQAAAACAAEAAAAJAAQAAAACAAEAAAAKAAQAAAADAAEAAAALAAQAAAABAAUAAAALAAMAAAABAAMAAAALAAIAAAAFAAEAAEALAAEAAAABAAMAAAALAAAAAAABAAIAAAAMAAIAAAAEAAEAAAANAAIAAAACAAEAAAAOAAIAAAACAAEAAAAPAAIAAAACAAEAAAAQAAIAAAACAAEAAAARAAIAAAACAAEAAAASAAIAAAACAAEAAAA=")
tile_set = SubResource("TileSet_w4v7x")

[node name="Gear" parent="." instance=ExtResource("2_p4erq")]
position = Vector2(725, 1086)
gearSize = 2
gearScale = 2.0

[node name="Gear2" parent="." instance=ExtResource("2_p4erq")]
position = Vector2(1315, 1086)
rotation = 0.205949
spinClockwise = false

[node name="ground" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAgAAAAAAAAAAAAIAAgAFAAAAAAABAAMAAgAFAAEAAAAAAAMAAgAEAAAAAAABAAQAAgAEAAAAAAAAAAYAAgACAAAAAAAAAAUAAgAFAAEAAAANAAcAAgAAAAAAAAANAAUAAgAEAAAAAAAOAAQAAgAEAAAAAAAOAAIAAgAEAAAAAAAOAAYAAgAFAAEAAAANAAQAAgAFAAEAAAANAAEAAgAFAAEAAAANAAIAAgAEAAAAAAAOAAAAAgAEAAAAAAAAAAgAAgAFAAAAAAANAP//AgAEAAAAAAACAAgAAgAFAAEAAAADAAgAAgAFAAEAAAAEAAgAAgAFAAEAAAAFAAgAAgAFAAEAAAAGAAgAAgAFAAEAAAAHAAgAAgAFAAEAAAAIAAgAAgAFAAEAAAAJAAgAAgAFAAEAAAAKAAgAAgAFAAEAAAALAAgAAgAFAAEAAAAMAAgAAgAFAAEAAAACAAAAAgAFAAEAAAADAAAAAgAFAAEAAAAEAAAAAgAFAAEAAAAFAAAAAgAFAAEAAAAGAAAAAgAFAAEAAAAIAAAAAgAFAAEAAAAJAAAAAgAFAAEAAAAKAAAAAgAFAAEAAAALAAAAAgAFAAEAAAAMAAAAAgAFAAEAAAA=")
tile_set = SubResource("TileSet_afen0")

[node name="detailing" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAUAAgABAAMAAAAAAAIAAgAEAAIAAAABAAIAAgADAAIAAAABAAMAAgADAAMAAAABAAQAAgACAAIAACAAAAQAAgABAAMAAAAAAAMAAgAAAAIAAAABAAUAAgAAAAIAAAAAAAYAAgAEAAIAAAABAAYAAgAFAAIAAAAAAAcAAgAEAAMAAAABAAcAAgAFAAMAAAABAAgAAgADAAIAAAAAAAgAAgAAAAIAAAA=")
tile_set = SubResource("TileSet_mkyii")

[node name="SmallGear2" parent="." instance=ExtResource("3_p4erq")]
position = Vector2(130, 129)

[node name="SmallGear" parent="." instance=ExtResource("3_p4erq")]
position = Vector2(247, 558)

[node name="SmallGear3" parent="." instance=ExtResource("3_p4erq")]
position = Vector2(232, 706)
spinClockwise = false

[node name="CameraBounds" type="Area2D" parent="."]

[node name="CameraCollsion" type="CollisionShape2D" parent="CameraBounds"]
position = Vector2(1007.75, 622)
shape = SubResource("RectangleShape2D_oe5jq")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(903, 622)
script = ExtResource("5_w4v7x")
playerPath = NodePath("../Player")
boundsPath = NodePath("../CameraBounds/CameraCollsion")

[node name="Player" parent="." groups=["enemies"] instance=ExtResource("6_mkyii")]
position = Vector2(873, 667)
scale = Vector2(3, 3)
HudPath = NodePath("../Hud")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_w4v7x")

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(992, -144)
scale = Vector2(48.5078, 50.3984)
shadow_enabled = true
texture = SubResource("GradientTexture2D_mkyii")

[node name="SmallGear4" parent="." instance=ExtResource("7_mkyii")]
position = Vector2(1675, 608)

[node name="SmallGear5" parent="." instance=ExtResource("7_mkyii")]
position = Vector2(1662, 370)
spinClockwise = false

[node name="Foreground" type="Parallax2D" parent="."]
scroll_scale = Vector2(1.1, 1.1)

[node name="grayPipe" type="TileMapLayer" parent="Foreground"]
modulate = Color(0.28485, 0.28485, 0.28485, 1)
light_mask = 2
position = Vector2(-425, -35)
scale = Vector2(1.1, 1.1)
tile_map_data = PackedByteArray("AAAEAAMAAAAAAAMAABAEAAQAAAAAAAEAABAEAAUAAAAAAAIAABAEAAYAAAAAAAQAAFAFAAYAAAADAAAAAAAGAAYAAAABAAAAAAAHAAYAAAABAAAAAAAIAAYAAAABAAAAAAAJAAYAAAABAAAAAAAKAAYAAAACAAAAAAAEAAAAAAAAAAEAABAEAAEAAAAAAAEAABAEAAIAAAAAAAMAABALAAYAAAAAAAQAAAALAAQAAAAAAAEAAAALAAMAAAAAAAMAAAALAAIAAAAAAAAAAAAMAAIAAAADAAAAAAAOAAIAAAABAAAAAAANAAIAAAAEAAAAAAALAAUAAAAAAAIAAAAPAAIAAAABAAAAAAAQAAIAAAABAAAAAAARAAIAAAABAAAAAAANAAMAAAAAAAIAAAANAAQAAAAAAAQAAFAOAAQAAAADAAAAAAAPAAQAAAABAAAAAAAQAAQAAAABAAAAAAARAAQAAAABAAAAAAA=")
tile_set = SubResource("TileSet_oe5jq")
